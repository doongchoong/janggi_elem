

## 기물 이미지 구하기

구글링으로 아래 레포를 찾았음
https://github.com/Ka-hu/chess-pieces

라이센스는 CC-BY 4  로 되어있다. 
하지만 이게 라이센스를 명기하지 않을때 그냥 설정되는 것일수도 있다. 
일단 사용.


장기판 렌더링 속도를 위해서 svg를 고정크기 PNG로 변경하고
링크를 걸지 않고 base64로 렌더링 한다.

{
"한나라마.png" : "n",
"한나라상.png" : "e",
....
}

이런식으로 구성한뒤에 
이미지를 하나씩 읽어서 base64로 변환 data url 로 변경함.


---------------------------

## 모든 변동을 처리후 나중에 렌더링

바로바로 변동시키면 나중에 제어하기 힘들어지므로 (한번 리팩토링 함)

변경 분을 메모리상에서만 다 반영한 뒤에 나중에 마지막으로 렌더링을 해서
HTML에 실제로 반영한다. 

예시
1. Highlight Cell
2. Delete Piece 
3. Rendering

렌더링 할때는 DOM의 엘리먼트 자체를 다른 부모를 찾아 appendChild 하게되면
원래 있던곳에서 빠져서 새로 집어넣은곳으로 들어간다. 
굳이 빼는 작업을 안해도 된다.

그래서 렌더링 순서는

1. 숨겨져있는 Hidden 에 기물 엘리먼트를 집어넣어서 숨긴다. 
2. 모든 Cell을 돌면서 원래 위치시켜야 할곳에 위치시킴
3. 남아있는 기물은 삭제

-------------------------

## 파일-랭크 좌표계 시스템

체스의 파일-랭크 좌표계를 사용한다.

랭크는 ROW로 맨위가 10이고 맨 아래가 1이다.
파일은 COL로 좌측이 a 이고 우측이 i 이다.

파일+랭크 로 좌표를 사용한다.   

move b4 c4  => 우측으로 한칸 이동

10
9
8
7
6
5
4
3
2
1
  a b c d e f g h i 


CELL은 자신의 좌표를 가지고 있도록 한다.

만일 한나라의 방향에서 시작하고 싶다면 
Flip Board 
파일 랭크도 서로 뒤집어 져야한다. 

다만 항상 좌표는 똑같게 된다.

1
2
3
4
5
6
7
8
9
10
   i h g f e d c b a


보드를 뒤집을때 모든 Cell에 대해서 
자신의 좌표를 갱신하도록 한다.

---------------------------

## 90칸의 9 x 10 의 그리드를 만들기

CSS 스타일을 이용한다.

display: grid;
grid-template-columns: repeat(9, 11.111%);
grid-template-rows: repeat(10, 10%);

이렇게 하면 따로 row 에 중첩구조로 안만들어도 
알아서 그리드로 생성된다. 
